# hierarchical

이건 사실 MultiDiscrete는 아니다. 엄밀하게 말하면 하나만 고르는것이다.

이것도 마찬가지로 노승은님 gfootball 구현에서 본것인데, action과 moving으로 나누어졌지만 둘다 하는것이 아닌 둘중에 하나만 하는것이다.

승은님 구현도 독립을 가정하는것 같은데 이 부분은 좀 어렵다... 사건의 관계는 좀처럼 파악하기 어렵다.

예를들면 gfootball은 0부터 18까지 19개의 액션이 있는데, 1부터 8까지는 8개의 moving으로 나눌 수 있다. 이것 전체를 하나의 액션이라고 생각하는것이다. 그럼 총 12개의 액션이 된다. 액션을 두번 고른다고 생각하면 된다.  
0, (1~8), 9, 10, 11, 12, 13, 14, 15, 16, 17, 18 이렇게 12개이다.

moving을 하게되면 1번 액션을 수행함과 동시에 신경망에서 8개의 출력을 샘플링해서 곱한다. 1번 액션이 아니라면 사용하지 않는다.

여기에 적용해보고자 하는 방식은 (0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2) 이렇게 9개의 액션이 있다고 한다면 4개의 출력을 만드는것이다.  
보다 정확히는 (0\~2), (3\~5), (6\~8) 이렇게 나눌것이다.
정말 비효율적인 구현이라고 생각할 수 있지만 이렇게 hierarchical한 경우가 생각보다 빈번하다. 

-> 그래서 그냥 19개로 하는거랑 12/8로 나눠서 하는거랑 뭐가 다른데?  
... 사실 나도 MultiDiscrete도 그렇고 이걸 알기위해 시작한거긴 하지만... 명확한 답은 못하겠다. 하지만 분명한것은 hierarchical한 구현에선 moving끼리 어떤 관계가 성립될거라 생각한다.