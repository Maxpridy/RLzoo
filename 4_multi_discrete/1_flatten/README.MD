# flatten

branch 정보를 받아서 flatten화 한다.

여기서 사용한 예시는 3x3인데, [noop, 전진, 후진], [noop, 좌회전, 우회전]으로 총 액션의 수는 9가 된다.  
이 액션들을 나열하면 [(noop, noop), (noop, 좌회전), (noop, 우회전), (전진, noop), (전진, 좌회전), (전진, 우회전), (후진, noop), (후진, 좌회전), (후진, 우회전)] 이렇게 된다.

flatten의 장점은 쓸데없는 액션을 masking하기가 굉장히 용이하다는것이다. 예를들면 내가 학습시키고자 하는 agent의 행동이 후진이 필요가 없다고 생각해보자. 그러면 0~8 인덱스중 6, 7, 8번 인덱스 액션은 필요가 없어진다. 가만히 있는것을 허용하지 않으려면 0, 1, 2번도 지울 수 있다. 그러면 policy의 출력이 3개인 모델을 학습시키면 되는것이다.

단점은 전체 action space가 모두 필요할 때 총 액션의 수가 기하급수적으로 증가하게 된다. branch가 10개, 브랜치마다 3개의 액션이라고 한다면 3^10이 총 액션이 갯수가 된다. 